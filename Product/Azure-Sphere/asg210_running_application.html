<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-207547783-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B4NBQPV6VG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-B4NBQPV6VG",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="WIZnet Document System" href="/document_framework/opensearch.xml"><title data-react-helmet="true">Running Application | WIZnet Document System</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://docs.wiznet.io/document_framework/img/wiznet-logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.wiznet.io/document_framework/img/wiznet-logo.png"><meta data-react-helmet="true" property="og:url" content="https://docs.wiznet.io/document_framework/Product/Azure-Sphere/asg210_running_application"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Running Application | WIZnet Document System"><meta data-react-helmet="true" name="description" content="This section describes how to run Dual-Ethernet Application on ASG210 (For the more details, please refer to Dual Ethernet Operating System Block Diagram. ASG210 Dual-Ethernet Application consists of High-level application and Real-time capable application."><meta data-react-helmet="true" property="og:description" content="This section describes how to run Dual-Ethernet Application on ASG210 (For the more details, please refer to Dual Ethernet Operating System Block Diagram. ASG210 Dual-Ethernet Application consists of High-level application and Real-time capable application."><link data-react-helmet="true" rel="shortcut icon" href="/document_framework/img/wizfavicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.wiznet.io/document_framework/Product/Azure-Sphere/asg210_running_application"><link data-react-helmet="true" rel="alternate" href="https://docs.wiznet.io/document_framework/Product/Azure-Sphere/asg210_running_application" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.wiznet.io/document_framework/Product/Azure-Sphere/asg210_running_application" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://VXDI0EL2J7-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/document_framework/assets/css/styles.569a3abd.css">
<link rel="preload" href="/document_framework/assets/js/runtime~main.f691727f.js" as="script">
<link rel="preload" href="/document_framework/assets/js/main.c329c14e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#C51A4A;color:#fafbfc" role="banner"><div class="announcementBarContent_3EUC">‚≠êÔ∏è Meet our new products: <a target="" rel="noopener noreferrer" href="/Product/Open-Source-Hardware/wiznet_ethernet_hat">WIZnet Ethernet HAT for Raspberry Pi Pico</a> and <a target="" rel="noopener noreferrer" href="/Product/iEthernet/W5100S/w5100s-evb-pico">W5100S-EVB-Pico</a> ‚≠êÔ∏è</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/document_framework/"><div class="navbar__logo"><img src="/document_framework/img/wiznet_logo.svg" alt="Wiznet Company Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/document_framework/img/wiznet_logo-white.svg" alt="Wiznet Company Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link">Documents</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/document_framework/introduction">Introduction ‚û§</a></li><li><a class="dropdown__link" href="/document_framework/Design-Guide/design_guide">Design Guide ‚û§</a></li><li><a class="dropdown__link" href="/document_framework/VAR-Products-using-WIZnet/var_products_using_wiznet">VAR Products ‚û§</a></li></ul></div><a href="https://www.wiznet.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>WIZnet<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://forum.wiznet.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/Wiznet/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">‚õà</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">üå§</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/document_framework/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Products</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/">Products</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Azure Sphere Guardian Module</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">ASG210</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210_datasheet">Datasheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210_debugger">Debugger Board</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210_resources">Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210_getting_started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/document_framework/Product/Azure-Sphere/asg210_running_application">Running Application</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">iMCU</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Pre-programmed MCU</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">iEthernet</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">S2E Module</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">ioModule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">App Module</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Wi-Fi Module</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Mbed WIZwiki Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Open Source Hardware</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Obsolete</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Design Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">VAR Products using WIZnet</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Running Application</h1></header><p>This section describes how to run Dual-Ethernet Application on ASG210 (For the more details, please refer to <a href="/document_framework/Product/Azure-Sphere/asg210_datasheet#dual-ethernet-operating-system-block-diagram">Dual Ethernet Operating System Block Diagram</a>. ASG210 Dual-Ethernet Application consists of High-level application and Real-time capable application.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="step-1-clone-repository">Step 1. Clone repository<a aria-hidden="true" class="hash-link" href="#step-1-clone-repository" title="Direct link to heading">‚Äã</a></h2><p>Clone the <a href="https://github.com/WIZnet-Azure-Sphere/ASG210_App" target="_blank" rel="noopener noreferrer">repository</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ git clone https://github.com/WIZnet-Azure-Sphere/ASG210_App</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="step-2-network-configuration">Step 2. Network configuration<a aria-hidden="true" class="hash-link" href="#step-2-network-configuration" title="Direct link to heading">‚Äã</a></h2><p>This application sends local data to Azure cloud. User should configure ASG210 connection to Local network and Global network as shown below.</p><img src="/document_framework/img/AzureSphere/running_app/network_config.png" width="750"><h2 class="anchor anchorWithStickyNavbar_31ik" id="step-3-real-time-capable-application">Step 3. Real-time Capable Application<a aria-hidden="true" class="hash-link" href="#step-3-real-time-capable-application" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-local-network-information">Set Local Network Information<a aria-hidden="true" class="hash-link" href="#set-local-network-information" title="Direct link to heading">‚Äã</a></h3><p>To run Real-time capable application, user should set Local Network information. User can select static network and DHCP network.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="set-up-static-network">Set up Static network<a aria-hidden="true" class="hash-link" href="#set-up-static-network" title="Direct link to heading">‚Äã</a></h4><p>User can set up static network in ASG210_RTApp code. Go to this directory in ASG210_App, ASG210_App/Software/ASG210_RTApp_W5500_SPI_BareMetal and open main.c. Enable <strong>#define NETINFO_USE_MANUAL</strong> and set local network information.</p><img src="/document_framework/img/AzureSphere/running_app/static_network.png" width="750"><h4 class="anchor anchorWithStickyNavbar_31ik" id="set-up-dhcp-network">Set up DHCP network<a aria-hidden="true" class="hash-link" href="#set-up-dhcp-network" title="Direct link to heading">‚Äã</a></h4><p>User can set up DHCP network in ASG210_RTApp code. Go to this directory in ASG210_App, ASG210_App/Software/ASG210_RTApp_W5500_SPI_BareMetal and open main.c. Disable <strong>#define NETINFO_USE_MANUAL</strong>.</p><img src="/document_framework/img/AzureSphere/running_app/dhcp_network.png" width="750"><h3 class="anchor anchorWithStickyNavbar_31ik" id="build-and-download">Build and download<a aria-hidden="true" class="hash-link" href="#build-and-download" title="Direct link to heading">‚Äã</a></h3><p>From the Select Startup Item menum on the tool bar, select GDB Debugger (RTCore). Click Build All on Build menu. Press F5 or Click Startup Item to start the RT application with debugging.
(Please check Azure Sphere Development mode with Azure Sphere Developer Command Prompt.)</p><p>Prepare Azure Sphere development mode:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere device enable-development</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><img src="/document_framework/img/AzureSphere/running_app/rtapp_debugging.png" width="750"><img src="/document_framework/img/AzureSphere/running_app/initiall_rtapp_serialdata.png" width="750"><h2 class="anchor anchorWithStickyNavbar_31ik" id="step-4-set-high-level-application">Step 4. Set High-Level application<a aria-hidden="true" class="hash-link" href="#step-4-set-high-level-application" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-up-azure-iot-hub-for-asg210">Set up Azure IoT Hub for ASG210<a aria-hidden="true" class="hash-link" href="#set-up-azure-iot-hub-for-asg210" title="Direct link to heading">‚Äã</a></h3><p>To run this application, user should set up user‚Äôs own Azure IoT Hub service for ASG210. In this link, it describes how to create Azure IoT Hub and DPS service, then guides ASG210 authentication using DPS service.</p><p><a href="https://docs.microsoft.com/en-us/azure-sphere/app-development/setup-iot-hub" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/en-us/azure-sphere/app-development/setup-iot-hub</a></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-azure-cloud-parameters">Set Azure Cloud Parameters<a aria-hidden="true" class="hash-link" href="#set-azure-cloud-parameters" title="Direct link to heading">‚Äã</a></h3><p>To connect Azure Cloud, user must fullfil the parameters about Azure IoT Hub, DPS and Tenant ID on app_manifest.json in ASG210_HLApp.</p><img src="/document_framework/img/AzureSphere/running_app/cloud_parameters.png" width="750"><h4 class="anchor anchorWithStickyNavbar_31ik" id="azure-dps-scope-id">Azure DPS Scope ID<a aria-hidden="true" class="hash-link" href="#azure-dps-scope-id" title="Direct link to heading">‚Äã</a></h4><p>Copy the ID Scope from Device Provisioning Service in Azure Portal.</p><img src="/document_framework/img/AzureSphere/running_app/scope_id.png" width="750"><h4 class="anchor anchorWithStickyNavbar_31ik" id="azure-iot-hub-endpoint-url">Azure IoT Hub endpoint URL<a aria-hidden="true" class="hash-link" href="#azure-iot-hub-endpoint-url" title="Direct link to heading">‚Äã</a></h4><p>Copy the IoT Hub endpoint URL from IoT Hun in Azure Portal.</p><img src="/document_framework/img/AzureSphere/running_app/iothub_endpoint.png" width="750"><h4 class="anchor anchorWithStickyNavbar_31ik" id="azure-sphere-tenant-id">Azure Sphere Tenant ID<a aria-hidden="true" class="hash-link" href="#azure-sphere-tenant-id" title="Direct link to heading">‚Äã</a></h4><p>Copy the Azure Sphere Tenant ID from Azure Sphere Developer Command Prompt</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere tenant show-selected</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><img src="/document_framework/img/AzureSphere/running_app/tenant_id.png" width="750"><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-wi-fi-information">Set Wi-Fi Information<a aria-hidden="true" class="hash-link" href="#set-wi-fi-information" title="Direct link to heading">‚Äã</a></h3><p>ASG210 supports auto switching between Public Ethernet and Wi-Fi. Public Ethernet interface has high priority. Please refer <a href="/document_framework/Product/Azure-Sphere/asg210_getting_started#configuration-wi-fi-network-settings">Configuration Wi-Fi Network Settings</a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-up-public-ethernet-interface">Set up Public Ethernet interface<a aria-hidden="true" class="hash-link" href="#set-up-public-ethernet-interface" title="Direct link to heading">‚Äã</a></h3><p>To enable ethernet interface for public network and communication with Azure IoT, install ethernet imagepackage by deploying a board configuration image to ASG210. The board configuration image contains information that the Azure Sphere Security Service requires to add support for Ethernet to the Azure Sphere OS.</p><p>Follow these steps to enable public ethernet interface:</p><ol><li>Create a board configuration image package</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere image-package pack-board-config ‚Äì-preset lan-enc28j60-isu0-int5 ‚Äì-output </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="2"><li>Prepare ASG210 for development mode</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere device enable-development</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>Sideload a board configuration image package</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere device sideload deploy --imagepackage enc28j60-isu0-int5.imagepackage</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="4"><li>Check the sideloaded imagepackage</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere device image list-installed</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="build-and-download-1">Build and download<a aria-hidden="true" class="hash-link" href="#build-and-download-1" title="Direct link to heading">‚Äã</a></h3><p>From the Select Startup Item menum on the tool bar, select GDB Debugger (HLCore). Click Build All on Build menu. Press F5 or Click Startup Item to start the HL application with debugging.
(Please check Azure Sphere Development mode with Azure Sphere Developer Command Prompt.)</p><p>Prepare Azure Sphere development mode:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">azsphere device enable-development</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><img src="/document_framework/img/AzureSphere/running_app/start_hl_app.png" width="750"><img src="/document_framework/img/AzureSphere/running_app/debugging_message.png" width="750"><h2 class="anchor anchorWithStickyNavbar_31ik" id="step-5-check-application-operation">Step 5. Check application operation<a aria-hidden="true" class="hash-link" href="#step-5-check-application-operation" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="send-data-to-asg210-from-local-network">Send data to ASG210 from Local Network<a aria-hidden="true" class="hash-link" href="#send-data-to-asg210-from-local-network" title="Direct link to heading">‚Äã</a></h3><p>Set user device network address range and connect to ASG210 network address in Local network with TCP Client. After connection between user device and ASG210, user device can send JSON format data to transmit it to Azure Cloud through ASG210. </p><img src="/document_framework/img/AzureSphere/running_app/network_address.png" width="750"><img src="/document_framework/img/AzureSphere/running_app/send_json.png" width="750"><h3 class="anchor anchorWithStickyNavbar_31ik" id="check-the-data-in-azure-cloud">Check the data in Azure Cloud<a aria-hidden="true" class="hash-link" href="#check-the-data-in-azure-cloud" title="Direct link to heading">‚Äã</a></h3><p>ASG210 sends user device data to Azure Cloud. User can check the data sent from user device in Azure Cosmos DB or Storage. </p><img src="/document_framework/img/AzureSphere/running_app/azure_cosmosdb.png" width="750"><h3 class="anchor anchorWithStickyNavbar_31ik" id="auto-switch-in-asg210-network-interface">Auto Switch in ASG210 Network Interface<a aria-hidden="true" class="hash-link" href="#auto-switch-in-asg210-network-interface" title="Direct link to heading">‚Äã</a></h3><p>This application supports auto switching network interface to guarantee Azure Cloud connection. If Ethernet connection is not working anymore, ASG210 switches from Ethernet to Wi-Fi interface and re-connects to Azure Cloud. (Vice versa works as well.)</p><img src="/document_framework/img/AzureSphere/running_app/autonetwork_switching.png" width="750"></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Wiznet/document_framework/tree/master/docs/Product/Azure-Sphere/Running_application.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/document_framework/Product/Azure-Sphere/asg210_getting_started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Getting Started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/document_framework/Product/iMCU/imcu"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">iMCU<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-clone-repository" class="table-of-contents__link toc-highlight">Step 1. Clone repository</a></li><li><a href="#step-2-network-configuration" class="table-of-contents__link toc-highlight">Step 2. Network configuration</a></li><li><a href="#step-3-real-time-capable-application" class="table-of-contents__link toc-highlight">Step 3. Real-time Capable Application</a><ul><li><a href="#set-local-network-information" class="table-of-contents__link toc-highlight">Set Local Network Information</a></li><li><a href="#build-and-download" class="table-of-contents__link toc-highlight">Build and download</a></li></ul></li><li><a href="#step-4-set-high-level-application" class="table-of-contents__link toc-highlight">Step 4. Set High-Level application</a><ul><li><a href="#set-up-azure-iot-hub-for-asg210" class="table-of-contents__link toc-highlight">Set up Azure IoT Hub for ASG210</a></li><li><a href="#set-azure-cloud-parameters" class="table-of-contents__link toc-highlight">Set Azure Cloud Parameters</a></li><li><a href="#set-wi-fi-information" class="table-of-contents__link toc-highlight">Set Wi-Fi Information</a></li><li><a href="#set-up-public-ethernet-interface" class="table-of-contents__link toc-highlight">Set up Public Ethernet interface</a></li><li><a href="#build-and-download-1" class="table-of-contents__link toc-highlight">Build and download</a></li></ul></li><li><a href="#step-5-check-application-operation" class="table-of-contents__link toc-highlight">Step 5. Check application operation</a><ul><li><a href="#send-data-to-asg210-from-local-network" class="table-of-contents__link toc-highlight">Send data to ASG210 from Local Network</a></li><li><a href="#check-the-data-in-azure-cloud" class="table-of-contents__link toc-highlight">Check the data in Azure Cloud</a></li><li><a href="#auto-switch-in-asg210-network-interface" class="table-of-contents__link toc-highlight">Auto Switch in ASG210 Network Interface</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/document_framework/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/document_framework/">Products</a></li><li class="footer__item"><a class="footer__link-item" href="/document_framework/Design-Guide/design_guide">Design Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/document_framework/VAR-Products-using-WIZnet/var_products_using_wiznet">VAR Products</a></li></ul></div><div class="col footer__col"><div class="footer__title">Buy</div><ul class="footer__items"><li class="footer__item"><a href="https://eshop.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>USA<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://shop.wiznet.eu/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>EU<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.wiznet.hk/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>China<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://wiznetshop.co.kr/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Korea<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items"><li class="footer__item"><a href="https://wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>WIZnet Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forum.wiznet.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://maker.wiznet.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Maker Community<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/Wiznet/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/wiznettechnology" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/wiznet/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/wiznetteam" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCAxgCSp_xA2aQ1KA2Eknvqg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 WIZnet Co., Ltd. Built with Docusaurus.</div></div></div></footer></div>
<script src="/document_framework/assets/js/runtime~main.f691727f.js"></script>
<script src="/document_framework/assets/js/main.c329c14e.js"></script>
</body>
</html>